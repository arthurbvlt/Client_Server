<!DOCTYPE html>
<html>
  <head>
	<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
	crossorigin="anonymous">
	<meta charset="UTF-8">
	<link th:href="@{/css/listeVilles.css}" rel="stylesheet" type="text/css" media="all"/>
  	<title>Liste des villes</title>
  </head>
  <body id="img">
	<div class="header">
		<button onclick="window.location.href='/home'" class=bouton>home</button>
	</div>
    <div class="container fontColor">
      <h1>Liste des villes</h1>
      <table id="tableVilles" class="table fontColor">
        <thead>
          <tr>
            <th>Code commune</th>
            <th>Nom commune</th>
            <th>Code postal</th>
            <th>Libelle acheminement</th>
            <th>Ligne</th>
            <th>Latitude</th>
            <th>Longitude</th> 
            <th></th> 
          </tr>
        </thead>
        <tbody>
          <tr th:each="ville : ${villes}">
			<td th:text="${ville.codeCommune}"></td>
            <td th:text="${ville.nomCommune}"></td>
            <td th:text="${ville.codePostal}"></td>
            <td th:text="${ville.libelleAcheminement}"></td>
            <td th:text="${ville.ligne}"></td>
            <td th:text="${ville.coordonnee.latitude}"></td>
            <td th:text="${ville.coordonnee.longitude}"></td>
            <td>
    			<a th:href="@{/listVilles/{codeCommune}(codeCommune=${ville.codeCommune})}">Modifier</a>
  			</td> 
          </tr>
        </tbody>
      </table>
    </div>
    
    <script th:src="@{/js/jquery-3.6.0.min.js}"
        type="text/javascript"></script>
    <script th:src="@{/js/jquery.dataTables.min.js}"
        type="text/javascript"></script>
    <script th:src="@{/js/dataTables.bootstrap5.min.js}"
        type="text/javascript"></script>
    
    <script type="text/javascript">
    	$(document).ready(function() {
    	  $('#tableVilles').DataTable({
    	    pageLength: 50,
    	  });
    	});
    </script>
    
  </body>
</html>